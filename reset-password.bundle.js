(()=>{"use strict";window.onload=function(){var o=new URLSearchParams(window.location.search).get("token");$("#submit").on("click",(function(e){var s,a=($("#password").val()||"").trim();"string"==typeof(s=a)&&0!==s.trim().length?$.ajax({method:"PATCH",url:"".concat(apiHost,"/api/v1/users/_me"),data:JSON.stringify({password:a,passwordResetToken:o}),dataType:"json",contentType:"application/json",headers:{},error:function(o){console.log("failure response: %O",o);var e=(o.responseJSON||{}).code;if(console.log("failure code="+e),"invalid_password"===e){var s=o.responseJSON,a=s.reason,n=s.min;s.max,"too_short"===a?alert("The password must be at least ".concat(n," characters long.")):alert("Invalid password. Reason: ".concat(a))}else alert("Something went wrong while trying to reset your password.")}}).done((function(o){console.log("response: %O",o),$(".success-message").css("display","block")})):alert("Please specify your password.")}))}})();