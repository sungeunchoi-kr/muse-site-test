(()=>{"use strict";window.onload=function(){var s=new URLSearchParams(window.location.search).get("token");console.log("reset-password.js"),$("#save-changes-btn").on("click",(function(e){e.preventDefault();var o,a=($("#new-password").val()||"").trim();"string"==typeof(o=a)&&0!==o.trim().length?($(".success-message-3").css("display","block"),$(".success-message-3 > .text-block-13").text("Please wait..."),$.ajax({method:"PATCH",url:"".concat(apiHost,"/api/v1/users/_me"),data:JSON.stringify({password:a,passwordResetToken:s}),dataType:"json",contentType:"application/json",headers:{},error:function(s){console.log("failure response: %O",s);var e=(s.responseJSON||{}).code;if(console.log("failure code="+e),"invalid_password"===e){var o=s.responseJSON,a=o.reason,t=o.min;o.max,"too_short"===a?alert("The password must be at least ".concat(t," characters long.")):alert("Invalid password. Reason: ".concat(a))}else alert("Something went wrong while trying to reset your password.")}}).done((function(s){console.log("response: %O",s),$(".success-message-3").css("display","block"),$(".success-message-3 > .text-block-13").text("Password reset success!")}))):alert("Please specify your password.")}))}})();